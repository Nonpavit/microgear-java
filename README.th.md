#Microgear-java-----------Microgear-java คือ client library ภาษา Java ที่ทำหน้าที่เป็นตัวกลางในการเชื่อมโยง application code หรือ hardware เข้ากับบริการของ netpie platform เพื่อการพัฒนา IOT application รายละเอียดเกี่ยวกับ netpie platform สามารถศึกษาได้จาก https://netpie.io##การติดตั้ง-----------<br/>##ตัวอย่างการใช้งาน-----------```javaimport Microgear.Microgear;import Microgear.Microgear.*;public class Example {	final static String appID = "appID";	final static String Key = "Key";	final static String Secret = "Secret";	public static void main(String[] args) throws InterruptedException {		Microgear microgear = new Microgear();		microgear.setConnectEvent(new OnConnect() {			@Override			public void OnConnectArrived(Boolean c) {				if (c) {					System.out.println(c);					System.out.println("Microgear is Connected.");				}			}		});		microgear.setMessageEvent(new OnMessage() {			@Override			public void OnMessageArrived(String Topic, String Message) {				System.out.println(Topic + "  " + Message);			}		});		microgear.setOnPresentEvent(new OnPresent() {			@Override			public void OnPresentArrived(String a) {				System.err.println("Present "+a);			}		});		microgear.setOnAbsentEvent(new OnAbsent() {			@Override			public void OnAbsentArrived(String a) {				System.out.println("Absent "+a);			}		});		microgear.setDisconnectEvent(new OnDisconnect() {			@Override			public void OnDisconnectArrived(Boolean d) {				System.out.println(d);			}		});		microgear.setErrorEvent(new OnError() {			@Override			public void OnErrorArrived(String d) {				System.out.println(d);							}		});				microgear.connect(appID, Key, Secret);		microgear.Subscribe("/Topictest");		int count = 1;		for(;;){			microgear.Publish("/Topictest", String.valueOf(count)+".  Test message");			count++;			Thread.sleep(2000);		}	}}```##การใช้งาน Library-----------###Microgear-----------####Create&Connect**microgear.connect(appID, Key, Secret);**arguments* *appID* `string` - กลุ่มของ application ที่ microgear จะทำการเชื่อมต่อ* *Key* `string` - key สำหรับ gear ที่จะรัน ใช้ในการอ้างอิงตัวตนของ gear* *Secret* `string` - secret ของ key ซึ่งจะใช้ประกอบในกระบวนการยืนยันตัวตน<br/>####Setalias**Setalias(Newalias)** microgear สามารถตั้งนามแฝงของตัวเองได้ ซึ่งสามารถใช้เป็นชื่อให้คนอื่นเรียกในการใช้ฟังก์ชั่น chat() และชื่อที่ตั้งในโค้ด จะไปปรากฏบนหน้าจัดการ key บนเว็บ netpie.io อย่างอัตโนมัติarguments* *Newalias* `string` – ชื่อของ microgear นี้<br/>####Chat**Chat(Name, Message);** การส่งข้อความโดยเจาะจงผู้รับarguments* *Name* `string` - ชื่อของ microgear ที่ต้องการจะส่งข้อความไปถึง* *Message* `string` – ข้อความ<br/>####Publish**Publish(Topic, Message, Retained);**ในกรณีที่ต้องการส่งข้อความแบบไม่เจาะจงผู้รับ สามารถใช้ฟังชั่น publish ไปยัง topic ที่กำหนดได้ ซึ่งจะมีแต่ microgear ที่ subscribe topic นี้เท่านั้น ที่จะได้รับข้อความarguments* *Topic* `string` - ชื่อของ topic ที่ต้องการจะส่งข้อความไปถึง* *Message* `string` – ข้อความ* *Retained* `Boolean` - ให้ retain ข้อความไว้หรือไม่ default เป็น false<br/>####Subscribe**Subscribe(Topic);** microgear อาจจะมีความสนใจใน topic ใดเป็นการเฉพาะ เราสามารถใช้ฟังก์ชั่น Subscribe() ในการบอกรับ message ของ topic นั้นได้ และหาก topic นั้นเคยมีการ retain ข้อความไว้ microgear จะได้รับข้อความนั้นทุกครั้งที่ subscribe topicarguments* *Topic* `string` - ชื่อของ topic ที่ต้องการรับข้อความ <br/>####Unsubscribe*Unsubscribe(Topic);* ยกเลิกการ subscribearguments* *Topic* `string` - ชื่อของ topic ที่ต้องการยกเลิกการรับข้อความ<br/>####Disconnect**microgear.Disconnect();** ชื่อของ topic ที่ต้องการจะส่งข้อความไปถึง<br/>###Even-----------application ที่รันบน microgear จะมีการทำงานในแบบ event driven คือเป็นการทำงานตอบสนองต่อ event ต่างๆ ด้วยการเขียน callback function ขึ้นมารองรับในลักษณะนี้####Even connect อีเว้นท์นี้จะเกิดขึ้นเมื่อ microgear library เชื่อมต่อกับ platform สำเร็จ```javamicrogear.setConnectEventListener(new OnConnect() {	@Override	public void OnConnectArrived(Boolean Status) {		if (Status) {			System.out.println("Microgear is Connected.");		}	}});```arguments* *Status* `Boolean` - สถานะการเชื่อมต่อ<br/>####Even messageอีเว้นท์นี้จะเกิดขึ้นเมื่อมี message เข้ามาพร้อมกับส่งผ่านข้อมูลเกี่ยวกับ message นั้นมาทาง argument ของ callback function```javamicrogear.setMessageEventListener(new OnMessage() {	@Override	public void OnMessageArrived(String Topic, String Message) {		System.out.println(Topic +"  "+ Message);	}});```arguments* *Topic* `string` - หัวข้อของข้อความที่เข้ามา* *Message* `string` - ข้อความที่เข้ามา<br/>####Even presentอีเว้นท์นี้จะเกิดขึ้นเมื่อมี microgear ใน appid เดียวกัน online เข้ามาเชื่อมต่อ netpie```javamicrogear.setOnPresentEvent(new OnPresent() {	@Override	public void OnPresentArrived(String Name) {		System.err.println("Present "+Name);	}});```arguments* *Name* `string` - ชื่อของ microgear ใน appid เดียวกันที่ online<br/>####Even absentอีเว้นท์นี้จะเกิดขึ้นเมื่อมี microgear ใน appid เดียวกัน offline หายไป```javamicrogear.setOnAbsentEvent(new OnAbsent() {	@Override	public void OnAbsentArrived(String Name) {		System.out.println("Absent "+Name);	}});```arguments* *Name* `string` - ชื่อของ microgear ใน appid เดียวกันที่ offline<br/>####Even disconnectอีเว้นท์นี้จะเกิดขึ้นเมื่อ microgear library ตัดการเชื่อมต่อกับ platform```javamicrogear.setDisconnectEvent(new OnDisconnect() {	@Override	public void OnDisconnectArrived(Boolean Status) {		System.out.println(d);	}});```arguments* *Status* `Boolean` - สถานะการตัดการเชื่อมต่อ<br/>####Even errorอีเว้นท์นี้จะเกิดขึ้นเมื่อมี error ขึ้นภายใน microgear```javamicrogear.setErrorEvent(new OnError() {	@Override	public void OnErrorArrived(String Error) {		System.out.println(Error);					}});	```arguments* *error* `string` - ข้อความที่แสดง error